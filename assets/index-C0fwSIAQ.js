import{_,o as c,c as r,r as b,a,n as k,t as g,w as h,v as m,F as v,p as u,b as p,d as C,e as T,f as w,g as f,N as y}from"./Nav-CEZNLnmQ.js";const d=e=>(u("data-v-b22b444d"),e=e(),p(),e),I={class:"item_flex"},N={class:"left_block"},A={class:"btn_flex"},E=["onClick"],J=["onClick"],L={class:"middle_block"},O={class:"star_block"},B=["onClick"],R=d(()=>a("i",{class:"fas fa-star"},null,-1)),$=[R],V=["onClick"],D=d(()=>a("i",{class:"fas fa-star"},null,-1)),F=[D],U=["onClick"],K=d(()=>a("i",{class:"fas fa-star"},null,-1)),M=[K],z=["onClick"],j=d(()=>a("i",{class:"fas fa-star"},null,-1)),q=[j],G=["onClick"],H=d(()=>a("i",{class:"fas fa-star"},null,-1)),P=[H],Q=["onUpdate:modelValue"],W={class:"right_block"},X={class:"btn_flex"},Y=["onClick"],Z=["onClick"],x={__name:"TaskItem",props:["tasks"],emits:["taskEdit","taskStar","taskSwap","taskRemove"],setup(e){return(s,n)=>(c(!0),r(v,null,b(e.tasks,(l,o)=>(c(),r("li",{key:l.id},[a("div",I,[a("div",N,[a("div",A,[a("button",{type:"button",class:"btn_up",onClick:t=>s.$emit("taskSwap",t,o,"up")},"往上",8,E),a("button",{type:"button",class:"btn_down",onClick:t=>s.$emit("taskSwap",t,o,"down")},"往下",8,J)])]),a("div",L,[a("div",O,[a("span",{class:k(["star",{"-on":l.star>=1}]),onClick:t=>s.$emit("taskStar",t,o,1)},$,10,B),a("span",{class:k(["star",{"-on":l.star>=2}]),onClick:t=>s.$emit("taskStar",t,o,2)},F,10,V),a("span",{class:k(["star",{"-on":l.star>=3}]),onClick:t=>s.$emit("taskStar",t,o,3)},M,10,U),a("span",{class:k(["star",{"-on":l.star>=4}]),onClick:t=>s.$emit("taskStar",t,o,4)},q,10,z),a("span",{class:k(["star",{"-on":l.star>=5}]),onClick:t=>s.$emit("taskStar",t,o,5)},P,10,G)]),a("p",{class:k(["para",{"-none":l.editable}])},g(l.name),3),h(a("input",{type:"text",class:k(["task_name_update",{"-none":!l.editable}]),placeholder:"更新待辦事項…","onUpdate:modelValue":t=>l.name=t},null,10,Q),[[m,l.name,void 0,{trim:!0}]])]),a("div",W,[a("div",X,[a("button",{type:"button",class:"btn_update",onClick:t=>s.$emit("taskEdit",t,o)},"更新",8,Y),a("button",{type:"button",class:"btn_delete",onClick:t=>s.$emit("taskRemove",t,o)},"移除",8,Z)])])])]))),128))}},ss=_(x,[["__scopeId","data-v-b22b444d"]]),ts={components:{TaskItem:ss},data(){return{taskText:"",tasks:[]}},beforeMount(){let e=JSON.parse(localStorage.getItem("tasks"));e&&(this.tasks=e)},methods:{toggleShadow(){this.$refs.taskAddBlock.classList.toggle("-on")},taskAdd(){this.taskText!=""&&(this.tasks.unshift({id:Date.now(),name:this.taskText,star:0,editable:!1}),this.taskText="",localStorage.setItem("tasks",JSON.stringify(this.tasks)))},taskClear(){if(confirm("確認要清空嗎？")){for(let s=0;s<this.$refs.taskList.children.length;s++)console.log(s),this.$refs.taskList.children[s].classList.add("fade_out");setTimeout(()=>{this.tasks=[],localStorage.clear()},1e3)}},taskEdit(e,s){this.tasks[s].editable?this.tasks[s].name==""?alert("請輸入資料"):(this.tasks[s].editable=!this.tasks[s].editable,localStorage.setItem("tasks",JSON.stringify(this.tasks))):this.tasks[s].editable=!this.tasks[s].editable},taskStar(e,s,n){this.tasks[s].star=n,localStorage.setItem("tasks",JSON.stringify(this.tasks))},taskSwap(e,s,n){n=="up"&&s!=0&&([this.tasks[s-1],this.tasks[s]]=[this.tasks[s],this.tasks[s-1]],localStorage.setItem("tasks",JSON.stringify(this.tasks))),n=="down"&&s!=this.tasks.length-1&&([this.tasks[s],this.tasks[s+1]]=[this.tasks[s+1],this.tasks[s]],localStorage.setItem("tasks",JSON.stringify(this.tasks)))},taskRemove(e,s){confirm("確認要移除嗎？")&&(e.target.closest("li").classList.add("fade_out"),setTimeout(()=>{this.tasks.splice(s,1),localStorage.setItem("tasks",JSON.stringify(this.tasks))},1e3))}}},as=e=>(u("data-v-a033c44b"),e=e(),p(),e),es={class:"task_container"},os=as(()=>a("h1",{class:"title1"},"待辦事項",-1)),ls={class:"task_add_block",ref:"taskAddBlock"},is={class:"task_list_parent"},ns={class:"task_list",ref:"taskList"};function ks(e,s,n,l,o,t){const S=C("TaskItem");return c(),r("article",es,[a("button",{type:"button",class:"btn_empty",onClick:s[0]||(s[0]=(...i)=>t.taskClear&&t.taskClear(...i))},"清空"),os,a("div",ls,[h(a("input",{type:"text",class:"task_name",placeholder:"輸入待辦事項…",onFocus:s[1]||(s[1]=(...i)=>t.toggleShadow&&t.toggleShadow(...i)),onBlur:s[2]||(s[2]=(...i)=>t.toggleShadow&&t.toggleShadow(...i)),"onUpdate:modelValue":s[3]||(s[3]=i=>o.taskText=i),onKeyup:s[4]||(s[4]=T((...i)=>t.taskAdd&&t.taskAdd(...i),["enter"]))},null,544),[[m,o.taskText,void 0,{trim:!0}]]),a("button",{type:"button",class:"task_add",onClick:s[5]||(s[5]=(...i)=>t.taskAdd&&t.taskAdd(...i))},"新增")],512),a("div",is,[a("ul",ns,[w(S,{tasks:o.tasks,onTaskEdit:t.taskEdit,onTaskStar:t.taskStar,onTaskSwap:t.taskSwap,onTaskRemove:t.taskRemove},null,8,["tasks","onTaskEdit","onTaskStar","onTaskSwap","onTaskRemove"])],512)])])}const ds=_(ts,[["render",ks],["__scopeId","data-v-a033c44b"]]);f(y).mount("#header");f(ds).mount("#app");
